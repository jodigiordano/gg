<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.75" />
    <meta
      name="description"
      content="gg is a free online diagram editor for flowcharts, process diagrams and network diagrams. It is also a light software architecture simulator."
    />
    <partial>favicon</partial>
    <link rel="stylesheet" href="assets/global.css" />
    <link rel="stylesheet" href="profile.css" />
    <title>charts</title>
    <partial>theme</partial>
  </head>
  <body>
    <div id="header">
      <a href="/">
        <button title="Go to editor">
          <inline-svg>icon-edit</inline-svg>
        </button>
      </a>
    </div>
    <div id="content">
      <h1>Profile</h1>
      <div id="main-container">
        <p>Identity: <span id="identity">Loading...</span></p>
      </div>
      <div id="main-container">
        <h2>Plan</h2>
        <p>
          Your current plan is <span id="plan">Loading...</span>.
          <button id="refresh-subscription">refresh</button>
        </p>
        <p id="plan-details"></p>
        <a
          href="%VITE_STRIPE_BILLING_PORTAL%"
          id="manage-subscription"
          class="hidden"
        >
          <button>Manage subscription</button>
        </a>
        <p>
          <button id="reactivate-subscription" class="hidden">
            Subscribe again
          </button>
        </p>
      </div>
      <div id="main-container">
        <h2 id="danger-zone">Danger zone</h2>
        <p>
          <button id="operation-delete-account">Delete account</button>
        </p>
      </div>
    </div>
    <dialog id="delete-account">
      <div class="content">
        <h1>Delete account</h1>
        <p>
          Input <b><span id="confirm-identity">Loading...</span></b> below to
          confirm the deletion of your account.
        </p>
        <input />
        <p>This operation is irreversible:</p>
        <ul>
          <li>Your subscription will be canceled.</li>
          <li>All your files will be removed from our servers.</li>
          <li>You will be signed out.</li>
        </ul>
        <form method="dialog">
          <button id="operation-delete-account-apply-changes">confirm</button>
          <button>cancel</button>
        </form>
      </div>
    </dialog>
    <script type="module" src="./profile.ts"></script>
  </body>
</html>
