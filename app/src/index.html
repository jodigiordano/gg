<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=0.60, minimum-scale=0.60, maximum-scale=0.60"
    />
    <meta
      name="description"
      content="gg is a free online diagram editor for flowcharts, process diagrams and network diagrams. It is also a light software architecture simulator."
    />
    <partial>favicon</partial>
    <link rel="stylesheet" href="index.css" />
    <title>charts - editor</title>
    <partial>theme</partial>
  </head>
  <body>
    <div id="header">
      <div id="header-title">gg</div>
      <div class="dropdown">
        <button>file</button>
        <ul class="content closed">
          <li id="operation-file-new">new graph</li>
          <a href="/graphs.html" class="authenticated hidden">
            <li>open from cloud</li>
          </a>
          <li id="operation-file-save-to-cloud" class="authenticated hidden">
            save to cloud
          </li>
          <li class="separator authenticated hidden"></li>
          <li id="operation-file-open-from-disk">open from disk</li>
          <li id="operation-file-save-to-disk">save to disk</li>
          <li class="separator"></li>
          <li id="operation-export-png">export to PNG</li>
        </ul>
      </div>
      <div class="dropdown">
        <button>view</button>
        <ul class="content closed">
          <li id="operation-file-properties-open">graph properties</li>
          <li id="operation-goto-viewer">presentation mode</li>
          <li id="operation-json-editor-open">json editor</li>
          <li id="operation-theme">switch theme</li>
        </ul>
      </div>
      <div class="dropdown">
        <button>help</button>
        <ul class="content closed">
          <li id="operation-help-guide">guide</li>
          <li id="operation-help-about">about</li>
          <li id="operation-help-privacy">privacy</li>
          <a href="https://github.com/jodigiordano/gg" target="_blank">
            <li>github</li>
          </a>
        </ul>
      </div>
      <button
        id="operation-connectivity-status-open"
        class="authenticated hidden"
        title="Connectivity status"
      >
        ●
      </button>
      <div id="header-right">
        <a href="/sign-in.html" class="unauthenticated hidden">
          <button>sign in</button>
        </a>
        <a href="/plus.html" class="unauthenticated hidden">
          <button id="plus">gg+</button>
        </a>
        <div class="dropdown authenticated hidden">
          <button>me</button>
          <ul class="content closed open-left">
            <a href="/profile.html">
              <li>profile</li>
            </a>
            <li id="operation-sign-out">sign out</li>
          </ul>
        </div>
      </div>
    </div>
    <div id="content">
      <div
        id="information-flow-step-title"
        title="Title of the current keyframe"
        class="hidden"
      ></div>
      <div id="toolbox">
        <div class="operations">
          <button id="operation-undo" title="Undo">
            <inline-svg>icon-undo</inline-svg>
            <div class="keyboard">[</div>
          </button>
          <button id="operation-redo" title="Redo">
            <inline-svg>icon-redo</inline-svg>
            <div class="keyboard">]</div>
          </button>
        </div>
        <div class="separator"></div>
        <div class="operations">
          <button
            id="operation-move"
            title="Move"
            class="selected single-choice"
          >
            <inline-svg>icon-move</inline-svg>
            <div class="keyboard">1</div>
          </button>
          <button id="operation-erase" title="Eraser" class="single-choice">
            <inline-svg>icon-eraser</inline-svg>
            <div class="keyboard">2</div>
          </button>
          <button
            id="operation-system-add"
            title="Add system"
            class="single-choice"
          >
            <inline-svg>icon-system</inline-svg>
            <div class="keyboard">3</div>
          </button>
          <button
            id="operation-system-set-parent"
            title="Set system parent"
            class="single-choice"
          >
            <inline-svg>icon-parent</inline-svg>
            <div class="keyboard">4</div>
          </button>
          <button
            id="operation-link"
            title="Add or modify a link"
            class="single-choice"
          >
            <inline-svg>icon-link</inline-svg>
            <div class="keyboard">q</div>
          </button>
          <button
            id="operation-set-link-pattern-dotted"
            class="hidden single-choice"
            title="Dotted link"
          >
            <inline-svg>icon-link-pattern-dotted</inline-svg>
            <div class="keyboard">w</div>
          </button>
          <button
            id="operation-set-link-pattern-solid"
            class="hidden single-choice"
            title="Solid link"
          >
            <inline-svg>icon-link-pattern-solid</inline-svg>
            <div class="keyboard">w</div>
          </button>
          <button
            id="operation-set-link-pattern-pipe"
            title="Pipe link"
            class="single-choice"
          >
            <inline-svg>icon-link-pattern-pipe</inline-svg>
            <div class="keyboard">w</div>
          </button>
          <button
            id="operation-set-title"
            title="Name systems & links"
            class="single-choice"
          >
            <inline-svg>icon-text</inline-svg>
            <div class="keyboard">e</div>
          </button>
          <button
            id="operation-set-color"
            title="Color systems & links"
            class="single-choice"
          >
            <inline-svg>icon-paint</inline-svg>
            <div class="keyboard">r</div>
          </button>
        </div>
        <div class="separator-with-title">flows</div>
        <div class="operations">
          <button
            id="operation-flow-data-transfer"
            title="Transfer data"
            class="single-choice"
          >
            <inline-svg>icon-flow-data</inline-svg>
            <div class="keyboard">a</div>
          </button>
          <div></div>
          <button id="operation-flow-play" title="Play the flow animation">
            <inline-svg>icon-flow-play</inline-svg>
            <div class="keyboard">␣</div>
          </button>
          <button
            id="operation-flow-pause"
            class="hidden"
            title="Pause the flow animation"
          >
            <inline-svg>icon-flow-pause</inline-svg>
            <div class="keyboard">␣</div>
          </button>
          <button
            id="operation-flow-repeat-one"
            class="hidden"
            title="Repeat current keyframe"
          >
            <inline-svg>icon-flow-repeat-one</inline-svg>
          </button>
          <button id="operation-flow-repeat-all" title="Repeat all keyframes">
            <inline-svg>icon-flow-repeat-all</inline-svg>
          </button>
          <div id="information-flow-keyframe" title="Current keyframe">0</div>
          <button
            id="operation-flow-edit-step-title"
            title="Add or edit the title of the current keyframe"
          >
            <inline-svg>icon-flow-step-title</inline-svg>
          </button>
          <button
            id="operation-flow-previous-keyframe"
            title="Previous keyframe"
          >
            <inline-svg>icon-flow-previous</inline-svg>
            <div class="keyboard">←</div>
          </button>
          <button id="operation-flow-next-keyframe" title="Next keyframe">
            <inline-svg>icon-flow-next</inline-svg>
            <div class="keyboard">→</div>
          </button>
        </div>
        <div class="separator"></div>
        <div class="operations">
          <button id="operation-camera-fit" title="Fit to screen">
            <inline-svg>icon-zoom-fit</inline-svg>
            <div class="keyboard">=</div>
          </button>
          <button id="operation-camera-zoom-in" title="Zoom in">
            <inline-svg>icon-zoom-in</inline-svg>
            <div class="keyboard">+</div>
          </button>
          <button id="operation-camera-zoom-out" title="Zoom out">
            <inline-svg>icon-zoom-out</inline-svg>
            <div class="keyboard">-</div>
          </button>
          <!-- Fixes a scrolling issue in Firefox Mobile -->
          <div></div>
          <div></div>
          <div></div>
        </div>
      </div>
      <div id="canvas"></div>
      <div id="save-data-is-loading">Loading...</div>
    </div>
    <dialog id="json-editor">
      <div class="content">
        <h1>JSON Editor</h1>
        <textarea autocomplete="off"></textarea>
        <form method="dialog">
          <button id="operation-json-editor-apply-changes">
            apply changes
          </button>
          <button>close</button>
        </form>
      </div>
    </dialog>
    <dialog id="guide">
      <div class="content">
        <h1>Guide</h1>
        <p>
          In gg, you <b>add systems</b> (<inline-svg>icon-system</inline-svg>)
          to the canvas and then
          <br />
          you <b>create links</b> (<inline-svg>icon-link</inline-svg>) between
          them.
        </p>
        <p>
          You can then <b>make data flow</b> between your systems (
          <inline-svg>icon-flow-data</inline-svg>
          ) !
        </p>
        <table>
          <caption>
            General operations
          </caption>
          <tbody>
            <tr>
              <td><inline-svg>icon-undo</inline-svg></td>
              <td>Undo an operation.</td>
            </tr>
            <tr>
              <td><inline-svg>icon-redo</inline-svg></td>
              <td>Redo an operation.</td>
            </tr>
            <tr>
              <td><inline-svg>icon-zoom-fit</inline-svg></td>
              <td>Fit the camera to show all the content of the canvas.</td>
            </tr>
            <tr>
              <td><inline-svg>icon-zoom-in</inline-svg></td>
              <td>Zoom in the canvas.</td>
            </tr>
            <tr>
              <td><inline-svg>icon-zoom-out</inline-svg></td>
              <td>Zoom out of the canvas.</td>
            </tr>
            <tr>
              <td><inline-svg>icon-move</inline-svg></td>
              <td>Move a system or a link in the canvas.</td>
            </tr>
            <tr>
              <td><inline-svg>icon-eraser</inline-svg></td>
              <td>Remove a system or a link from the canvas.</td>
            </tr>
            <tr>
              <td><inline-svg>icon-text</inline-svg></td>
              <td>Add or modify the title of a system or a link.</td>
            </tr>
            <tr>
              <td><inline-svg>icon-paint</inline-svg></td>
              <td>Paint a system or a link.</td>
            </tr>
          </tbody>
        </table>
        <table>
          <caption>
            Operations on systems
          </caption>
          <tbody>
            <tr>
              <td><inline-svg>icon-system</inline-svg></td>
              <td>Add a system to the canvas.</td>
            </tr>
            <tr>
              <td><inline-svg>icon-parent</inline-svg></td>
              <td>Move a system inside or outside another system.</td>
            </tr>
          </tbody>
        </table>
        <table>
          <caption>
            Operations on links
          </caption>
          <tbody>
            <tr>
              <td><inline-svg>icon-link</inline-svg></td>
              <td>
                <p>Add or modify a link between two systems.</p>
                <p>
                  Hold your pointer on the first system then drag your pointer
                  to the second system to create the link.
                </p>
                <p>Click on an existing link to modify its style.</p>
              </td>
            </tr>
            <tr>
              <td><inline-svg>icon-link-pattern-pipe</inline-svg></td>
              <td>Draw a pipe link using <inline-svg>icon-link</inline-svg></td>
            </tr>
            <tr>
              <td><inline-svg>icon-link-pattern-solid</inline-svg></td>
              <td>
                Draw a solid link using <inline-svg>icon-link</inline-svg>
              </td>
            </tr>
            <tr>
              <td><inline-svg>icon-link-pattern-dotted</inline-svg></td>
              <td>
                Draw a dotted link using <inline-svg>icon-link</inline-svg>
              </td>
            </tr>
          </tbody>
        </table>
        <table>
          <caption>
            Operations on flows
          </caption>
          <tbody>
            <tr>
              <td><inline-svg>icon-flow-data</inline-svg></td>
              <td>
                <p>Make data flow between two systems.</p>
                <p>Click once on a link to make data flow from A to B.</p>
                <p>Click twice on a link to make data flow from B to A.</p>
                <p>Click 3 times on a link to stop the data flow.</p>
              </td>
            </tr>
            <tr>
              <td><inline-svg>icon-flow-play</inline-svg></td>
              <td>Play the flow animation in a continuous loop.</td>
            </tr>
            <tr>
              <td><inline-svg>icon-flow-pause</inline-svg></td>
              <td>Pause the flow animation.</td>
            </tr>
            <tr>
              <td><inline-svg>icon-flow-repeat-one</inline-svg></td>
              <td>Play the current keyframe of the flow animation.</td>
            </tr>
            <tr>
              <td><inline-svg>icon-flow-repeat-all</inline-svg></td>
              <td>Play all the keyframes of the flow animation.</td>
            </tr>
            <tr>
              <td><inline-svg>icon-flow-step-title</inline-svg></td>
              <td>Add or edit the title of the current keyframe.</td>
            </tr>
            <tr>
              <td><inline-svg>icon-flow-previous</inline-svg></td>
              <td>Go to the previous keyframe of the flow.</td>
            </tr>
            <tr>
              <td><inline-svg>icon-flow-next</inline-svg></td>
              <td>Go to the next keyframe of the flow.</td>
            </tr>
          </tbody>
        </table>
        <form method="dialog">
          <button>close</button>
        </form>
      </div>
    </dialog>
    <dialog id="about">
      <div class="content">
        <h1>About</h1>
        <p>
          gg aims to help you quickly produce stunning diagrams, by letting you
          focus on its components instead of fiddling with its layout.
        </p>
        <p>
          When building a diagram to explain a dynamic system, like a software
          architecture, you can go a step further and display data flowing in
          it.
        </p>
        <p>
          For any question, you can contact me at
          <a href="mailto:jodi@gg-charts.com">jodi@gg-charts.com</a>
          or
          <a href="https://github.com/jodigiordano/gg/issues" target="_blank">
            create an issue in Github</a
          >.
        </p>
        <p>Enjoy!</p>
        <form method="dialog">
          <button>close</button>
        </form>
      </div>
    </dialog>
    <dialog id="privacy">
      <div class="content">
        <h1>Privacy</h1>
        <p>gg value your time and your privacy.</p>
        <p>As a guest of this service:</p>
        <div class="section">
          <ul>
            <li>- There are no ads.</li>
            <li>- There are no analytics.</li>
            <li>- There are no cookies.</li>
            <li>- There are no PII collected.</li>
          </ul>
          <p>
            100% of your data is kept in your browser and is never collected.
          </p>
        </div>
        <p>As a member of <a href="plus.html">gg+</a>, the cloud offering:</p>
        <div class="section">
          <p>
            gg tries very hard to collect as few information as possible to
            operate the service.
          </p>
          <p>
            When you sign up, you are agreeing to the
            <a href="/terms.html">Terms of Use</a> and the
            <a href="/privacy.html">Privacy Policy</a>.
          </p>
        </div>
        <form method="dialog">
          <button>close</button>
        </form>
      </div>
    </dialog>
    <dialog id="input-set-title-dialog">
      <div class="content">
        <h1></h1>
        <div class="editor-container">
          <div class="styling">
            <p>font</p>
            <ul class="styling-fonts">
              <li><button class="styling-font-text">text</button></li>
              <li><button class="styling-font-sketch">sketch</button></li>
              <li><button class="styling-font-code">code</button></li>
            </ul>
            <p>align</p>
            <ul class="styling-aligns">
              <li><button class="styling-align-left">left</button></li>
              <li><button class="styling-align-center">center</button></li>
              <li><button class="styling-align-right">right</button></li>
            </ul>
            <p>decoration</p>
            <ul class="styling-decoration">
              <li>&lt;b&gt;bold&lt;/b&gt;</li>
              <li>&lt;i&gt;italic&lt;/i&gt;</li>
              <li>&lt;u&gt;underline&lt;/u&gt;</li>
              <li>&lt;s&gt;strike&lt;/s&gt;</li>
              <li>&lt;h1&gt;title&lt;/h1&gt;</li>
              <li>&lt;h2&gt;subtitle&lt;/h2&gt;</li>
            </ul>
            <p>icons</p>
            <ul class="styling-icons">
              <li>
                <a href="icons.html#pack=aws" target="_blank">
                  <button class="styling-icons-aws">aws</button>
                </a>
              </li>
              <li>
                <a href="icons.html#pack=gcp" target="_blank">
                  <button class="styling-icons-gcp">gcp</button>
                </a>
              </li>
              <li>
                <a href="icons.html#pack=azure" target="_blank">
                  <button class="styling-icons-azure">azure</button>
                </a>
              </li>
              <li>
                <a href="icons.html#pack=k8s" target="_blank">
                  <button class="styling-icons-k8s">k8s</button>
                </a>
              </li>
              <li>
                <a href="icons.html#pack=dev" target="_blank">
                  <button class="styling-icons-dev">dev</button>
                </a>
              </li>
              <li>
                <a href="icons.html#pack=network" target="_blank">
                  <button class="styling-icons-network">network</button>
                </a>
              </li>
            </ul>
          </div>
          <div class="editor-wrapper">
            <textarea class="editor"></textarea>
          </div>
        </div>
        <form method="dialog">
          <button id="operation-set-title-apply">apply</button>
          <button>cancel</button>
        </form>
      </div>
    </dialog>
    <dialog id="input-flow-step-set-title-dialog">
      <div class="content">
        <h1></h1>
        <input />
        <form method="dialog">
          <button id="operation-flow-step-set-title-apply">apply</button>
          <button>cancel</button>
        </form>
      </div>
    </dialog>
    <dialog id="theme">
      <div class="content">
        <h1>Theme</h1>
        <div class="themes">
          <button
            style="background: #fff; color: #000"
            id="operation-theme-light"
          >
            light
          </button>
          <button
            style="background: #000; color: #fff"
            id="operation-theme-dark"
          >
            dark
          </button>
          <button
            style="background: #888; color: #000"
            id="operation-theme-system"
          >
            system
          </button>
        </div>
        <form method="dialog">
          <button>cancel</button>
        </form>
      </div>
    </dialog>
    <dialog id="input-set-color-dialog">
      <div class="content">
        <h1>Pick a color to paint</h1>
        <div class="colors">
          <button data-color="">clear color</button>
          <button style="background: #e6194b" data-color="#e6194b"></button>
          <button style="background: #3cb44b" data-color="#3cb44b"></button>
          <button style="background: #ffe119" data-color="#ffe119"></button>
          <button style="background: #4363d8" data-color="#4363d8"></button>
          <button style="background: #f58231" data-color="#f58231"></button>
          <button style="background: #911eb4" data-color="#911eb4"></button>
          <button style="background: #46f0f0" data-color="#46f0f0"></button>
          <button style="background: #f032e6" data-color="#f032e6"></button>
          <button style="background: #bcf60c" data-color="#bcf60c"></button>
          <button style="background: #fabebe" data-color="#fabebe"></button>
          <button style="background: #008080" data-color="#008080"></button>
          <button style="background: #e6beff" data-color="#e6beff"></button>
          <button style="background: #9a6324" data-color="#9a6324"></button>
          <button style="background: #fffac8" data-color="#fffac8"></button>
          <button style="background: #800000" data-color="#800000"></button>
          <button style="background: #aaffc3" data-color="#aaffc3"></button>
          <button style="background: #808000" data-color="#808000"></button>
          <button style="background: #ffd8b1" data-color="#ffd8b1"></button>
          <button style="background: #000075" data-color="#000075"></button>
          <button style="background: #808080" data-color="#808080"></button>
          <button style="background: #ffffff" data-color="#ffffff"></button>
          <button style="background: #dddddd" data-color="#dddddd"></button>
          <button style="background: #bbbbbb" data-color="#bbbbbb"></button>
          <button style="background: #888888" data-color="#888888"></button>
          <button style="background: #444444" data-color="#444444"></button>
          <button style="background: #000000" data-color="#000000"></button>
        </div>
        <form method="dialog">
          <button>cancel</button>
        </form>
      </div>
    </dialog>
    <dialog id="file-properties">
      <div class="content">
        <h1>Properties</h1>
        <h2>General</h2>
        <p>
          <label for="option-graph-title" title="The title of this graph">
            Title</label
          >
          <input id="option-graph-title" />
        </p>
        <h2>Flow</h2>
        <p>
          <label
            for="option-autoplay"
            title="Start playing the flow animation when opening the editor or presentation mode"
          >
            Autoplay</label
          >
          <input type="checkbox" id="option-autoplay" value="true" />
        </p>
        <p>
          <label for="option-speed" title="Speed of the flow animation">
            Playback speed</label
          >
          <input
            id="option-speed"
            type="number"
            value="1"
            step="0.5"
            min="0.5"
            max="10"
          />
        </p>
        <form method="dialog">
          <button>close</button>
        </form>
      </div>
    </dialog>
    <dialog id="load-file-failed-dialog">
      <div class="content">
        <h1>Operation failed</h1>
        <p>Loading the graph failed.</p>
        <form method="dialog">
          <button>ok</button>
        </form>
      </div>
    </dialog>
    <dialog id="connectivity-status-dialog">
      <div class="content">
        <h1>Connectivity status</h1>
        <div id="connectivity-status-details"></div>
        <form method="dialog">
          <button>ok</button>
        </form>
      </div>
      <template id="connectivity-status-ok">
        <p><b>You are online!</b></p>
        <p>Changes to your graphs will be synchronized with the server.</p>
        <p>
          <a href="graphs.html">
            <button>manage your graphs</button>
          </a>
        </p>
      </template>
      <template id="connectivity-status-read-only">
        <p><b>Your account is in read-only mode.</b></p>
        <p>Changes to your graphs won't be synchronized with the server.</p>
        <p>
          Go to <a href="profile.html">your profile</a> for more information.
        </p>
      </template>
      <template id="connectivity-status-local-file">
        <p><b>You are working with a local file.</b></p>
        <p>Changes to your graphs won't be synchronized with the server.</p>
        <p>
          <button class="convert-to-cloud">save to cloud</button>
        </p>
      </template>
      <template id="connectivity-status-save-failed">
        <p>
          <b>The last synchronization of your graph with the server failed.</b>
        </p>
        <p>
          To avoid loosing your work, make sure the synchronization succeed
          before closing this browser tab.
        </p>
        <form method="dialog">
          <p>
            <button class="save-to-cloud">retry save to cloud</button>
            <button class="save-to-disk">save to disk</button>
          </p>
        </form>
      </template>
    </dialog>
    <input id="file-from-disk" type="file" accept="application/json" />
    <script type="module" src="./index.ts"></script>
  </body>
</html>
