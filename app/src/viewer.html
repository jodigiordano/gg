<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=0.60, minimum-scale=0.60, maximum-scale=0.60"
    />
    <meta
      name="description"
      content="gg is a free online diagram editor for flowcharts, process diagrams and network diagrams. It is also a light software architecture simulator."
    />
    <link rel="icon" type="image/png" href="assets/favicon.ico" />
    <link rel="stylesheet" href="assets/global.css" />
    <link rel="stylesheet" href="viewer.css" />
    <title>charts</title>
    <script>
      // Default theme.
      let theme = "light";

      // The chosen theme is stored in local storage.
      const themeFromLocalStorage = localStorage.getItem("theme");

      if (themeFromLocalStorage) {
        if (themeFromLocalStorage === "dark") {
          theme = "dark";
        }
      } else if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
        // Theme set by the OS.
        theme = "dark";
      }

      // Set dark theme, if preferred.
      if (theme === "dark") {
        document.documentElement.setAttribute("theme", theme);
      }
    </script>
  </head>
  <body>
    <div id="toolbox">
      <div class="operations left">
        <button id="operation-goto-editor" title="Go to editor">
          <inline-svg>icon-edit</inline-svg>
        </button>
      </div>
      <div class="operations center">
        <button id="operation-flow-rewind" title="Rewind the flow animation">
          <inline-svg>icon-flow-rewind</inline-svg>
        </button>
        <button id="operation-flow-play" title="Play the flow animation">
          <inline-svg>icon-flow-play</inline-svg>
        </button>
        <button
          id="operation-flow-pause"
          class="hidden"
          title="Pause the flow animation"
        >
          <inline-svg>icon-flow-pause</inline-svg>
        </button>
        <button id="operation-flow-previous-keyframe" title="Previous keyframe">
          <inline-svg>icon-flow-previous</inline-svg>
        </button>
        <button id="operation-flow-next-keyframe" title="Next keyframe">
          <inline-svg>icon-flow-next</inline-svg>
        </button>
        <div id="information-flow-progression" title="Progression of the flow">
          <input
            id="information-flow-progression-current"
            type="text"
            inputmode="numeric"
            value="0"
          />
          /
          <span id="information-flow-progression-total">0</span>
        </div>
      </div>
      <div class="operations right">
        <button id="operation-camera-fit" title="Fit to screen">
          <inline-svg>icon-zoom-fit</inline-svg>
        </button>
        <button id="operation-camera-zoom-in" title="Zoom in">
          <inline-svg>icon-zoom-in</inline-svg>
        </button>
        <button id="operation-camera-zoom-out" title="Zoom out">
          <inline-svg>icon-zoom-out</inline-svg>
        </button>
      </div>
    </div>
    <div
      id="information-flow-step-title"
      title="Title of the current keyframe"
      class="hidden"
    ></div>
    <div id="canvas"></div>
    <div id="save-data-is-loading">Loading...</div>
    <script type="module" src="/viewer.ts"></script>
  </body>
</html>
