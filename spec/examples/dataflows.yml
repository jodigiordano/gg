specificationVersion: 1.0.0
name: dataflows
description: Tool to build beautiful software system designs
components:
  - name: frontend
    description: Web-based client
    position:
      x: 2
      y: 2
  - name: backend
    description: Backend of the frontend
    position:
      x: 17
      y: 7
    system:
      components:
        - name: server
          description: RESTful HTTP API of the backend
          position:
            x: 2
            y: 2
        - name: database
          description: Database of the backend
          position:
            x: 10
            y: 2
      links:
        - name: l1
          componentAName: server
          componentBName: database
  - name: whatever
    position:
      x: 9
      y: 15
  - name: datadog
    position:
      x: 2
      y: 10
links:
  - name: l1
    componentAName: frontend
    componentBName: backend
    subComponentBName: server
  - name: l2
    componentAName: frontend
    componentBName: whatever
  - name: l3
    componentAName: backend
    componentBName: datadog
    subComponentBName: server
flows:
  - name: f1
    data:
      d1: form data
      d2: log
      d3: user
    steps:
      - operation: send
        fromComponentName: frontend
        toComponentName: backend.server
        dataKey: d1
        keyframe: 0
      - operation: send
        fromComponentName: backend.server
        toComponentName: datadog
        dataKey: d2
        keyframe: 1
      - operation: send
        fromComponentName: backend.server
        toComponentName: backend.database
        dataKey: d3
        store: true
        keyframe: 1
